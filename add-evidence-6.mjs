import mysql from 'mysql2/promise';

const conn = await mysql.createConnection(process.env.DATABASE_URL);

const evidence = {
  evidenceName: 'الملاحظة الصفية',
  standardId: 11,
  description: `تُعد الملاحظة الصفية من الأدوات المهمة التي يعتمد عليها المعلم لرصد سلوك الطلاب وأدائهم أثناء الأنشطة التعليمية. وتوفر هذه الأداة صورة حقيقية عن تفاعل الطلاب داخل الصف، ومدى استخدامهم للمهارات المعرفية والعملية، إضافة إلى قدرتهم على العمل الفردي والجماعي. تساعد الملاحظة في الكشف المبكر عن الصعوبات التعليمية والسلوكية، مما يمكّن المعلم من التدخل الفوري وتقديم الدعم المناسب. كما تعكس الملاحظة الصفية مستوى الانتباه والمشاركة، وتُعد وسيلة دقيقة لتقييم المهارات التي يصعب قياسها عبر الاختبارات التقليدية.`,
  page2Boxes: [
    {
      title: 'أهداف الملاحظة الصفية',
      content: `- رصد تفاعل الطلاب أثناء التعلم.
- تقييم مهارات الأداء العملي.
- اكتشاف الصعوبات السلوكية والتعليمية مبكرًا.
- تحديد مدى فهم الطلاب للمحتوى.
- دعم اتخاذ قرارات تدريسية فورية.`
    },
    {
      title: 'أساليب الملاحظة الصفية',
      content: `- ملاحظة فردية لأداء الطالب.
- ملاحظة جماعية أثناء الأنشطة.
- استخدام قوائم تقدير جاهزة.
- ملاحظة السلوك داخل المجموعات.
- تتبع المشاركة والاستجابة أثناء الشرح.`
    },
    {
      title: 'دور المعلم في الملاحظة الصفية',
      content: `- متابعة الأداء بتركيز وانتباه.
- تدوين الملاحظات بشكل منظم.
- تقديم تغذية راجعة فورية.
- تعديل التعليم بناءً على النتائج.
- دعم الطلاب الذين يظهر لديهم ضعف أو تشتت.`
    },
    {
      title: 'دور الطالب في الملاحظة الصفية',
      content: `- المشاركة الفعالة في الأنشطة.
- الالتزام بالتعليمات الصفية.
- إظهار مهاراته بوضوح أثناء العمل.
- الاستفادة من الملاحظات لتحسين الأداء.
- التعاون مع زملائه في المهام المختلفة.`
    },
    {
      title: 'مواقف مناسبة لاستخدام الملاحظة الصفية',
      content: `- الأنشطة العملية في العلوم والمهارات.
- الأعمال الجماعية التي تتطلب تعاونًا.
- أثناء الشرح التفاعلي.
- عند تنفيذ مهام تطبيقية.
- أثناء استخدام استراتيجيات التعلم النشط.`
    },
    {
      title: 'نتائج متوقعة من الملاحظة الصفية',
      content: `- تحسين جودة التدريس بناءً على بيانات دقيقة.
- اكتشاف أنماط التعلم لدى الطلاب.
- رفع مستوى المشاركة داخل الصف.
- معالجة السلوكيات غير المناسبة مبكرًا.
- دعم الطلاب وفق احتياجاتهم الفعلية.`
    }
  ],
  userFields: [
    { label: 'التاريخ', type: 'text' },
    { label: 'الصف الدراسي', type: 'text' },
    { label: 'المادة', type: 'text' },
    { label: 'نوع النشاط', type: 'text' },
    { label: 'عدد الطلاب', type: 'text' },
    { label: 'أداة الملاحظة', type: 'text' },
    { label: 'مدة الملاحظة', type: 'text' },
    { label: 'المنفذ', type: 'text' }
  ]
};

try {
  const [result] = await conn.query(
    `INSERT INTO evidenceTemplates 
    (evidenceName, standardId, description, page2Boxes, userFields, stage, subject) 
    VALUES (?, ?, ?, ?, ?, ?, ?)`,
    [
      evidence.evidenceName,
      evidence.standardId,
      evidence.description,
      JSON.stringify(evidence.page2Boxes),
      JSON.stringify(evidence.userFields),
      'all',
      null
    ]
  );
  
  console.log('✅ تم إضافة الشاهد بنجاح!');
  console.log('   ID:', result.insertId);
  console.log('   الاسم:', evidence.evidenceName);
  console.log('   المعيار:', evidence.standardId);
  
} catch (error) {
  console.error('❌ خطأ في الإضافة:', error.message);
}

await conn.end();
