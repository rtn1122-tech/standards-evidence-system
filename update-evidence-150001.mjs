import mysql from 'mysql2/promise';

const connection = await mysql.createConnection(process.env.DATABASE_URL);

// المحتوى المحسّن مع تنوع في العبارات الافتتاحية
const improvedContent = {
  section1: `يُعد الالتزام بمواعيد الحضور والانصراف الرسمية أحد أبرز مؤشرات الاحترافية المهنية للمعلم، حيث يعكس مدى التزامه بأنظمة وتعليمات وزارة التعليم. يشمل ذلك متابعة التحديثات والتعاميم الخاصة بالدوام المدرسي والعمل بها فوراً، إضافة إلى تطبيق آليات إثبات الحضور عبر المنصات أو الأنظمة المعتمدة دون تأخير. هذا الانضباط يسهم في بناء ثقافة مؤسسية قوية داخل المدرسة.`,
  
  section2: `يسهم انتظام حضور المعلم بشكل مباشر في استقرار الجدول الدراسي وضمان عدم فقد الحصص أو تعطيل سير العملية التعليمية. كما يعزز هذا الانتظام من جودة التواصل بين المعلم وطلابه، مما يتيح استكمال الخطط الدراسية دون تعثر أو تأخير. بالإضافة إلى ذلك، يوفر بيئة تعليمية محفزة تعكس المهنية والانضباط، وتشجع الطلاب على الالتزام بدورهم.`,
  
  section3: `من منظور إداري، يُسهّل حضور المعلم المنتظم مهام الإدارة المدرسية في إعداد الجداول ومعالجة حالات الغياب الطارئ بكفاءة عالية. يضمن ذلك تنفيذ الإشراف اليومي والحصص البديلة بانسيابية، ويُسهم بشكل فعّال في استقرار أعمال المدرسة وبرامجها التعليمية والتربوية. هذا الاستقرار ينعكس إيجاباً على جميع عناصر المنظومة التعليمية داخل المدرسة.`,
  
  section4: `يعكس الحضور المبكر للمعلم مدى استعداده واهتمامه باليوم الدراسي، بينما يؤكد الانصراف في الوقت المحدد التزامه بإتمام مهامه اليومية بشكل كامل. هذا السلوك المهني يُحسّن الصورة المهنية للمعلم أمام الطلاب والزملاء والمجتمع المحلي، ويُرسّخ قيم الانضباط والمسؤولية. كما يُعد نموذجاً يُحتذى به للطلاب في أهمية احترام الوقت والالتزام.`,
  
  section5: `تُعتبر سجلات الدوام اليومية أو الأسبوعية جزءاً أساسياً من ملف الأداء المهني للمعلم، حيث يتم حفظها وتوثيقها بدقة. يُنصح بإرفاق تقارير أو كشوف من النظام المعتمد كدليل موثّق على الالتزام المستمر. يمكن استخدام هذه السجلات في دعم المعايير الخاصة بالأداء الوظيفي، وتقديمها عند الحاجة في عمليات التقييم أو الترقية المهنية.`,
  
  section6: `يُساهم الالتزام بالحضور والانصراف في تقليل حالات العجز الطارئ وزيادة الاستقرار المدرسي بشكل ملحوظ، مما يعزز ثقافة الالتزام والانضباط بين جميع العاملين في المدرسة. هذا الانضباط الجماعي يُحسّن من رضا أولياء الأمور والمجتمع عن مستوى التنظيم والاحترافية داخل المدرسة، ويبني صورة إيجابية عن المؤسسة التعليمية ككل.`,
};

// تحديث الشاهد 150001
await connection.execute(`
  UPDATE evidenceTemplates 
  SET page2Boxes = ?
  WHERE id = 150001
`, [JSON.stringify([
  { title: 'الالتزام بالأنظمة والتعليمات', content: improvedContent.section1 },
  { title: 'الأثر على العملية التعليمية', content: improvedContent.section2 },
  { title: 'التأثير على الإدارة المدرسية', content: improvedContent.section3 },
  { title: 'الصورة المهنية والقدوة', content: improvedContent.section4 },
  { title: 'التوثيق والإثبات', content: improvedContent.section5 },
  { title: 'الأثر على المجتمع المدرسي', content: improvedContent.section6 },
])]);

console.log('✅ تم تحديث محتوى الشاهد 150001 بنجاح!');

// عرض عدد الكلمات لكل مربع
Object.entries(improvedContent).forEach(([key, text]) => {
  const wordCount = text.split(/\s+/).length;
  console.log(`${key}: ${wordCount} كلمة`);
});

await connection.end();
