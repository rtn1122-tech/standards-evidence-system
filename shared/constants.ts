/**
 * Shared constants for stages and subjects
 */

// جميع المراحل الدراسية
export const STAGES = [
  "الأول الابتدائي",
  "الثاني الابتدائي",
  "الثالث الابتدائي",
  "الرابع الابتدائي",
  "الخامس الابتدائي",
  "السادس الابتدائي",
  "الأول المتوسط",
  "الثاني المتوسط",
  "الثالث المتوسط",
  "الأول الثانوي",
  "الثاني الثانوي",
  "الثالث الثانوي",
];

// جميع المواد الدراسية لجميع المراحل
export const SUBJECTS = [
  // مواد أساسية
  "لغة عربية",
  "رياضيات",
  "علوم",
  "اجتماعيات",
  "لغة إنجليزية",
  "تربية إسلامية",
  
  // مواد القرآن والدراسات الإسلامية
  "القرآن الكريم",
  "التوحيد",
  "الفقه",
  "الحديث",
  "التفسير",
  
  // مواد المرحلة الثانوية
  "فيزياء",
  "كيمياء",
  "أحياء",
  "جيولوجيا",
  "رياضيات (1)",
  "رياضيات (2)",
  "رياضيات (3)",
  "رياضيات (4)",
  "رياضيات (5)",
  "رياضيات (6)",
  
  // مواد اللغات
  "لغة إنجليزية (1)",
  "لغة إنجليزية (2)",
  "لغة إنجليزية (3)",
  "لغة إنجليزية (4)",
  "لغة إنجليزية (5)",
  "لغة إنجليزية (6)",
  
  // مواد التربية
  "تربية فنية",
  "تربية بدنية",
  "تربية أسرية",
  "تربية صحية",
  "تربية مهنية",
  
  // مواد التقنية
  "حاسب آلي",
  "تقنية رقمية",
  "الذكاء الاصطناعي",
  "البرمجة",
  
  // مواد المهارات
  "مهارات حياتية",
  "مهارات رقمية",
  "التفكير الناقد",
  "المهارات الحياتية والأسرية",
  
  // مواد إضافية
  "الدراسات الاجتماعية",
  "التاريخ",
  "الجغرافيا",
  "علم النفس",
  "علم الاجتماع",
  "الاقتصاد",
  "القانون",
  "الإدارة",
  "المحاسبة",
  
  // مواد خاصة
  "التربية الخاصة",
  "صعوبات التعلم",
  "الموهوبين",
];


// تصنيف المواد حسب المرحلة الدراسية
export const SUBJECTS_BY_STAGE = {
  // المرحلة الابتدائية (الصفوف 1-6)
  elementary: [
    "لغة عربية",
    "رياضيات",
    "علوم",
    "اجتماعيات",
    "لغة إنجليزية",
    "تربية إسلامية",
    "القرآن الكريم",
    "التوحيد",
    "الفقه",
    "الحديث",
    "تربية فنية",
    "تربية بدنية",
    "تربية أسرية",
    "مهارات رقمية",
    "المهارات الحياتية والأسرية",
    "التربية الخاصة",
    "صعوبات التعلم",
    "الموهوبين",
  ],
  
  // المرحلة المتوسطة (الصفوف 7-9)
  middle: [
    "لغة عربية",
    "رياضيات",
    "علوم",
    "اجتماعيات",
    "الدراسات الاجتماعية",
    "لغة إنجليزية",
    "تربية إسلامية",
    "القرآن الكريم",
    "التوحيد",
    "الفقه",
    "الحديث",
    "التفسير",
    "تربية فنية",
    "تربية بدنية",
    "تربية أسرية",
    "تربية صحية",
    "حاسب آلي",
    "تقنية رقمية",
    "مهارات حياتية",
    "مهارات رقمية",
    "التفكير الناقد",
    "المهارات الحياتية والأسرية",
    "التربية الخاصة",
    "صعوبات التعلم",
    "الموهوبين",
  ],
  
  // المرحلة الثانوية (الصفوف 10-12)
  high: [
    "لغة عربية",
    "رياضيات",
    "رياضيات (1)",
    "رياضيات (2)",
    "رياضيات (3)",
    "رياضيات (4)",
    "رياضيات (5)",
    "رياضيات (6)",
    "فيزياء",
    "كيمياء",
    "أحياء",
    "جيولوجيا",
    "علوم",
    "اجتماعيات",
    "الدراسات الاجتماعية",
    "التاريخ",
    "الجغرافيا",
    "لغة إنجليزية",
    "لغة إنجليزية (1)",
    "لغة إنجليزية (2)",
    "لغة إنجليزية (3)",
    "لغة إنجليزية (4)",
    "لغة إنجليزية (5)",
    "لغة إنجليزية (6)",
    "تربية إسلامية",
    "القرآن الكريم",
    "التوحيد",
    "الفقه",
    "الحديث",
    "التفسير",
    "تربية فنية",
    "تربية بدنية",
    "تربية أسرية",
    "تربية صحية",
    "تربية مهنية",
    "حاسب آلي",
    "تقنية رقمية",
    "الذكاء الاصطناعي",
    "البرمجة",
    "مهارات حياتية",
    "مهارات رقمية",
    "التفكير الناقد",
    "المهارات الحياتية والأسرية",
    "علم النفس",
    "علم الاجتماع",
    "الاقتصاد",
    "القانون",
    "الإدارة",
    "المحاسبة",
    "التربية الخاصة",
    "صعوبات التعلم",
    "الموهوبين",
  ],
};

// دالة مساعدة لتحديد نوع المرحلة من اسم الصف
export function getStageType(gradeName: string): "elementary" | "middle" | "high" | null {
  if (!gradeName) return null;
  
  const grade = gradeName.toLowerCase();
  
  if (grade.includes("ابتدائي")) {
    return "elementary";
  } else if (grade.includes("متوسط")) {
    return "middle";
  } else if (grade.includes("ثانوي")) {
    return "high";
  }
  
  return null;
}

// دالة للحصول على المواد المناسبة للمرحلة
export function getSubjectsForGrades(grades: string[]): string[] {
  if (!grades || grades.length === 0) {
    return SUBJECTS; // إرجاع جميع المواد إذا لم يتم اختيار مرحلة
  }
  
  const stageTypes = new Set(grades.map(getStageType).filter(Boolean));
  
  // إذا كان المعلم يدرس في أكثر من مرحلة، دمج المواد
  const subjects = new Set<string>();
  stageTypes.forEach(stageType => {
    if (stageType) {
      SUBJECTS_BY_STAGE[stageType].forEach(subject => subjects.add(subject));
    }
  });
  
  return Array.from(subjects).sort();
}
