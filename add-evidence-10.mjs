import mysql from 'mysql2/promise';

const conn = await mysql.createConnection(process.env.DATABASE_URL);

const evidence = {
  evidenceName: 'ملفات الإنجاز',
  standardId: 11,
  description: `تُعد ملفات الإنجاز وسيلة شاملة لتوثيق تطور الطالب على مدى فترة زمنية، حيث تجمع أعماله وواجباته ومشاريعه ومشاركاته الصفية في ملف واحد يُظهر تقدمه الحقيقي. تساعد هذه الأداة في إبراز نقاط القوة وتحسين جوانب الضعف من خلال متابعة مستمرة للأداء، كما تمنح الطالب فرصة للتأمل الذاتي والتعرف على جودة ما يقدمه. تعمل ملفات الإنجاز كذلك على تعزيز مهارات التنظيم، وتحفّز المتعلم على تحمل المسؤولية تجاه تعلمه، إضافة إلى كونها مرجعًا مهمًا للمعلم في تقييم الأداء المهاري والمعرفي بصورة دقيقة وشاملة.`,
  page2Boxes: [
    {
      title: 'أهداف ملفات الإنجاز',
      content: `- توثيق تطور الطالب بشكل مستمر.
- قياس المهارات العملية والمعرفية بدقة.
- تعزيز التأمل الذاتي وتحمل المسؤولية.
- دعم تقييم الأداء عبر أدلة واضحة.
- إظهار نمو الطالب على مدى الوحدات الدراسية.`
    },
    {
      title: 'مكونات ملفات الإنجاز',
      content: `- أعمال الطالب الكتابية.
- مهمات ومشاريع تطبيقية.
- أوراق عمل منجزة.
- تغذية راجعة من المعلم.
- تأملات الطالب حول تقدمه.`
    },
    {
      title: 'دور المعلم في ملفات الإنجاز',
      content: `- توضيح معايير اختيار المحتوى.
- متابعة جمع الأدلة بشكل منتظم.
- تقديم ملاحظات توجه الطالب للتحسن.
- استخدام الملف في التقييم النهائي.
- مساعدة الطالب على تنظيم مواده.`
    },
    {
      title: 'دور الطالب في ملفات الإنجاز',
      content: `- اختيار الأعمال التي تمثّل تقدمه بدقة.
- تنظيم ملفه بشكل واضح ومنهجي.
- كتابة تأملات تعكس تعلمه.
- مراجعة التغذية الراجعة وتطبيقها.
- تحمل مسؤولية تطوير ملفه باستمرار.`
    },
    {
      title: 'مواقف مناسبة لاستخدام ملفات الإنجاز',
      content: `- تقييم المهارات طويلة المدى.
- توثيق مشاريع وحدات متعددة.
- متابعة التقدم خلال فترات زمنية.
- عرض إنجازات الطالب في الاجتماعات.
- دعم عمليات التوجيه والإرشاد الأكاديمي.`
    },
    {
      title: 'نتائج متوقعة من ملفات الإنجاز',
      content: `- تحسين مهارات التنظيم والمتابعة.
- تعزيز وعي الطالب بتقدمه.
- دعم التقييم العملي والمهاري.
- زيادة جودة إنتاج الطالب.
- بناء سجل شامل لأدائه الأكاديمي.`
    }
  ],
  userFields: [
    { label: 'التاريخ', type: 'text' },
    { label: 'الصف الدراسي', type: 'text' },
    { label: 'المادة', type: 'text' },
    { label: 'الفترة الزمنية', type: 'text' },
    { label: 'عدد الطلاب', type: 'text' },
    { label: 'نوع الملف', type: 'text' },
    { label: 'عدد الأعمال', type: 'text' },
    { label: 'المنفذ', type: 'text' }
  ]
};

try {
  const [result] = await conn.query(
    `INSERT INTO evidenceTemplates 
    (evidenceName, standardId, description, page2Boxes, userFields, stage, subject) 
    VALUES (?, ?, ?, ?, ?, ?, ?)`,
    [
      evidence.evidenceName,
      evidence.standardId,
      evidence.description,
      JSON.stringify(evidence.page2Boxes),
      JSON.stringify(evidence.userFields),
      'all',
      null
    ]
  );
  
  console.log('✅ تم إضافة الشاهد بنجاح!');
  console.log('   ID:', result.insertId);
  console.log('   الاسم:', evidence.evidenceName);
  console.log('   المعيار:', evidence.standardId);
  
} catch (error) {
  console.error('❌ خطأ في الإضافة:', error.message);
}

await conn.end();
